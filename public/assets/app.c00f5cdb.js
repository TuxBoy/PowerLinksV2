(window.webpackJsonp=window.webpackJsonp||[]).push([["app"],{XENs:function(t,e,n){},ng4s:function(t,e,n){"use strict";n.r(e);n("XENs"),n("wLYn"),n("zKZe"),n("eoL8");function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=e,this.form=n,this.options=Object.assign({withShortcut:!0,keyCode:"t"},r||{})}var e,n,o;return e=t,(n=[{key:"showFormWithKey",value:function(t){if(null!==this.form)if(t.key===this.options.keyCode&&this.form.classList.contains("hide")){if(t.preventDefault(),this.form.classList.toggle("hide"),!this.urlInput)return;this.urlInput.focus()}else"Escape"===t.key&&this.form.classList.toggle("hide")}},{key:"init",value:function(){var t=this;this.element&&(this.element.addEventListener("click",(function(e){e.preventDefault(),t.form&&t.form.classList.toggle("hide")})),this.options.withShortcut&&document.addEventListener("keydown",this.showFormWithKey.bind(this)))}}])&&r(e.prototype,n),o&&r(e,o),t}();n("pNMO"),n("4Brf"),n("NBAS"),n("ExoC"),n("ls82"),n("07d7"),n("5s+n");function i(t,e,n,r,o,i,u){try{var c=t[i](u),a=c.value}catch(t){return void n(t)}c.done?e(a):Promise.resolve(a).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var u=t.apply(e,n);function c(t){i(u,r,o,c,a,"next",t)}function a(t){i(u,r,o,c,a,"throw",t)}c(void 0)}))}}var c=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.errors=e};function a(t,e){return l.apply(this,arguments)}function l(){return(l=u(regeneratorRuntime.mark((function t(e,n){var r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});case 2:return r=t.sent,o=r.status,t.next=6,r.json();case 6:if(i=t.sent,!(o>=200&&o<300)){t.next=11;break}return t.abrupt("return",i);case 11:throw new c(i);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e,n,r,o,i,u){try{var c=t[i](u),a=c.value}catch(t){return void n(t)}c.done?e(a):Promise.resolve(a).then(r,o)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?y(t):e}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){var e="function"==typeof Map?new Map:void 0;return(d=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return v(t,arguments,w(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),b(r,t)})(t)}function v(t,e,n){return(v=m()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&b(o,n.prototype),o}).apply(null,arguments)}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(s,t);var e,n,r,o,i,u,c,l=(e=s,n=m(),function(){var t,r=w(e);if(n){var o=w(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return h(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=l.call(this)).handleChange=t.handleChange.bind(y(t)),t}return r=s,(o=[{key:"connectedCallback",value:function(){var t=this.querySelector(".urlField");null!==t&&t.addEventListener("change",this.handleChange)}},{key:"handleChange",value:(u=regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.target.value,t.next=3,a("/api/link/metadata",{url:n});case 3:r=t.sent,this.setFormElement("description",r.description),this.setFormElement("image",r.image),this.setFormElement("title",r.title),this.setFormElement("link_tags",r.tags);case 8:case"end":return t.stop()}}),t,this)})),c=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=u.apply(t,e);function i(t){f(o,n,r,i,c,"next",t)}function c(t){f(o,n,r,i,c,"throw",t)}i(void 0)}))},function(t){return c.apply(this,arguments)})},{key:"setFormElement",value:function(t,e){var n=this.querySelector(".".concat(t));null!==n&&(n.value=e)}}])&&p(r.prototype,o),i&&p(r,i),s}(d(HTMLElement));n("4l63");function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e,n,r,o,i,u){try{var c=t[i](u),a=c.value}catch(t){return void n(t)}c.done?e(a):Promise.resolve(a).then(r,o)}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O(t,e){return!e||"object"!==k(e)&&"function"!=typeof e?x(t):e}function x(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j(t){var e="function"==typeof Map?new Map:void 0;return(j=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return _(t,arguments,P(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),L(r,t)})(t)}function _(t,e,n){return(_=R()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&L(o,n.prototype),o}).apply(null,arguments)}function R(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function L(t,e){return(L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L(t,e)}(l,t);var e,n,r,o,i,u,c,a=(e=l,n=R(),function(){var t,r=P(e);if(n){var o=P(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return O(this,t)});function l(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(t=a.call(this)).deleteHandler=t.deleteHandler.bind(x(t)),t.linkId=parseInt(t.getAttribute("id")||"",10),t.edit_target=t.getAttribute("edit_target")||"#",t}return r=l,(o=[{key:"connectedCallback",value:function(){this.innerHTML+=this.render();var t=this.querySelector(".close");t&&t.addEventListener("click",this.deleteHandler)}},{key:"deleteHandler",value:(u=regeneratorRuntime.mark((function t(e){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.prev=1,t.next=4,fetch("/api/link/delete/"+this.linkId,{headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},method:"DELETE"});case 4:return r=t.sent,t.next=7,r.json();case 7:t.sent,null===(n=this.parentElement)||void 0===n||n.remove(),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(1),(o=document.createElement("alert-floating")).innerHTML=t.t0.detail,document.body.appendChild(o);case 16:case"end":return t.stop()}}),t,this,[[1,11]])})),c=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=u.apply(t,e);function i(t){E(o,n,r,i,c,"next",t)}function c(t){E(o,n,r,i,c,"throw",t)}i(void 0)}))},function(t){return c.apply(this,arguments)})},{key:"render",value:function(){return'\n           <div class="toolbox">\n             <form class="delete__item">\n                <button type="button" class="close" data-dismiss="alert" aria-label="Close">\n                    <span aria-hidden="true">&times;</span>\n                </button>\n            </form>\n            <a class="edit__item" href="'.concat(this.edit_target,'">\n                <span aria-hidden="true">\n                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16">\n                      <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>\n                      <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>\n                    </svg>\n                </span>\n            </a>\n           </div>\n        ')}}])&&S(r.prototype,o),i&&S(r,i),l}(j(HTMLElement)),F=document.querySelector("#showFormAddLink"),T=document.querySelector("#addFormLink");null!==F&&new o(F,T).init();var M=document.querySelector("#showFormFilterButton"),H=document.querySelector(".showFormFilter");null!==H&&new o(M,H,{keyCode:"f"}).init();customElements.define("meta-link",g),customElements.define("toolbox-item",C)}},[["ng4s","runtime",0]]]);